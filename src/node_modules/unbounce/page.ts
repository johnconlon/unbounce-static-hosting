import { ready } from "dom-utils";
import { getForm } from "./form";

export function init(containerId: string, cb: Function) {
  ready(function(){
    const container = getContainer(containerId);
    const form = getForm();
    cb(container, form);
  });
}

function getContainer(containerId: string) {
  const container = document.getElementById(containerId);
  if (!container) {
    throw new Error("Can't find the unbounce container: " + containerId);
  }
  const containerParent = container.parentElement;
  if (containerParent) {
    containerParent.style.position = "relative";
    containerParent.style.overflow = "auto";
    containerParent.style.height = "auto";
  }
  return container
}
